"use strict";(()=>{var e={};e.id=350,e.ids=[350],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},3991:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>q,requestAsyncStorage:()=>h,routeModule:()=>x,serverHooks:()=>f,staticGenerationAsyncStorage:()=>v});var s={};t.r(s),t.d(s,{GET:()=>m,dynamic:()=>d,runtime:()=>p});var a=t(9303),o=t(8716),n=t(670),u=t(7070),i=t(9498);let p="nodejs",d="force-dynamic",l=e=>u.NextResponse.json(e,{status:200}),c=(e,r=500)=>u.NextResponse.json({leads:[],error:e},{status:r});async function m(){try{let e="https://mjmbumsuszxcrolfrddh.supabase.co",r=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!r)return c("Missing Supabase env vars");let t=(0,i.eI)(e,r),{data:s,error:a}=await t.from("leads").select("*").order("created_at",{ascending:!1}).limit(500);if(a)return console.error("[/api/leads] supabase error:",a),c(a.message);return l({leads:s??[]})}catch(e){return console.error("[/api/leads] uncaught:",e),c("Unexpected server error")}}let x=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/leads/route",pathname:"/api/leads",filename:"route",bundlePath:"app/api/leads/route"},resolvedPagePath:"/Users/feridun/Documents/Projets/locamaster/app/api/leads/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:v,serverHooks:f}=x,g="/api/leads/route";function q(){return(0,n.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:v})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,972,498],()=>t(3991));module.exports=s})();